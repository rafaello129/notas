
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../semana%202/">
      
      
        <link rel="next" href="../semana%203/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.41">
    
    
      
        <title>Semana 2: Autenticación y Autorización con NestJS - Notas</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#semana-2-autenticacion-y-autorizacion-con-nestjs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Notas" class="md-header__button md-logo" aria-label="Notas" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Notas
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Semana 2: Autenticación y Autorización con NestJS
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Notas" class="md-nav__button md-logo" aria-label="Notas" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Notas
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Back
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Back
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1_1" id="__nav_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Nest
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_1">
            <span class="md-nav__icon md-icon"></span>
            Nest
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Nest%20semana1%20Gu%C3%ADa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NestJS: Creación de una API REST con MySQL, TypeORM y TypeScript
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../semana1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guía de Aprendizaje: Introducción al Desarrollo Web con con Nest JS:
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../semana%202/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    semana 2: Autenticación (Login y Register)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Semana 2: Autenticación y Autorización con NestJS
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Semana 2: Autenticación y Autorización con NestJS
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modulo-de-usuarios-users" class="md-nav__link">
    <span class="md-ellipsis">
      Módulo de Usuarios (Users)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Módulo de Usuarios (Users)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-del-modulo" class="md-nav__link">
    <span class="md-ellipsis">
      Creación del Módulo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#definicion-de-la-entidad-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Definición de la Entidad Usuario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacion-del-servicio-de-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      Implementación del Servicio de Usuarios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizacion-del-modulo-de-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      Actualización del Módulo de Usuarios
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modulo-de-autenticacion-auth" class="md-nav__link">
    <span class="md-ellipsis">
      Módulo de Autenticación (Auth)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Módulo de Autenticación (Auth)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-del-modulo-y-controlador" class="md-nav__link">
    <span class="md-ellipsis">
      Creación del Módulo y Controlador
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-de-dependencias" class="md-nav__link">
    <span class="md-ellipsis">
      Configuración de Dependencias
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registro-de-usuarios-register" class="md-nav__link">
    <span class="md-ellipsis">
      Registro de Usuarios (Register)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registro de Usuarios (Register)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-del-dto-de-registro" class="md-nav__link">
    <span class="md-ellipsis">
      Creación del DTO de Registro
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacion-del-metodo-de-registro" class="md-nav__link">
    <span class="md-ellipsis">
      Implementación del Método de Registro
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hash-de-contrasena" class="md-nav__link">
    <span class="md-ellipsis">
      Hash de Contraseña
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hash de Contraseña">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uso-de-bcrypt" class="md-nav__link">
    <span class="md-ellipsis">
      Uso de Bcrypt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacion-del-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Implementación del Hashing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autenticacion-login" class="md-nav__link">
    <span class="md-ellipsis">
      Autenticación (Login)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autenticación (Login)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-del-dto-de-login" class="md-nav__link">
    <span class="md-ellipsis">
      Creación del DTO de Login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validacion-de-credenciales" class="md-nav__link">
    <span class="md-ellipsis">
      Validación de Credenciales
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jwt-json-web-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      JWT (JSON Web Tokens)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JWT (JSON Web Tokens)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuracion-del-modulo-jwt" class="md-nav__link">
    <span class="md-ellipsis">
      Configuración del Módulo JWT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generacion-de-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Generación de Tokens
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autorizacion-guard" class="md-nav__link">
    <span class="md-ellipsis">
      Autorización (Guard)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autorización (Guard)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implementacion-de-guards" class="md-nav__link">
    <span class="md-ellipsis">
      Implementación de Guards
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proteccion-de-rutas" class="md-nav__link">
    <span class="md-ellipsis">
      Protección de Rutas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursos-adicionales" class="md-nav__link">
    <span class="md-ellipsis">
      Recursos Adicionales
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../semana%203/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    semana 3: Autorización (Roles) con NestJS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Nest%20Semana%203%20Gu%C3%ADa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autorización (Roles) con NestJS
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Front
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Front
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Basico
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Basico
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Front/Basico/Ejemplo%20guiado/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ejemplo guiado
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Front/Basico/Interpretaci%C3%B3n%20del%20curso/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interpretación del curso
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Front/Basico/Semana%201/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guía de Aprendizaje: Introducción al Desarrollo Web con HTML y CSS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Front/Basico/semana%202/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Semana 2: JavaScript y TypeScript
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Front/Basico/JS%20y%20TS%20semana%202%20Gu%C3%ADa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaScript y TypeScript
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    React
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            React
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Front/React/Introducci%C3%B3n/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción a React
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    General
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            General
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../General/Instalaci%C3%B3n%20de%20Git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instalación de Git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../General/Requisitos%20Generales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instalar Visual Studio Code
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modulo-de-usuarios-users" class="md-nav__link">
    <span class="md-ellipsis">
      Módulo de Usuarios (Users)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Módulo de Usuarios (Users)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-del-modulo" class="md-nav__link">
    <span class="md-ellipsis">
      Creación del Módulo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#definicion-de-la-entidad-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Definición de la Entidad Usuario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacion-del-servicio-de-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      Implementación del Servicio de Usuarios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizacion-del-modulo-de-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      Actualización del Módulo de Usuarios
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modulo-de-autenticacion-auth" class="md-nav__link">
    <span class="md-ellipsis">
      Módulo de Autenticación (Auth)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Módulo de Autenticación (Auth)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-del-modulo-y-controlador" class="md-nav__link">
    <span class="md-ellipsis">
      Creación del Módulo y Controlador
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-de-dependencias" class="md-nav__link">
    <span class="md-ellipsis">
      Configuración de Dependencias
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registro-de-usuarios-register" class="md-nav__link">
    <span class="md-ellipsis">
      Registro de Usuarios (Register)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registro de Usuarios (Register)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-del-dto-de-registro" class="md-nav__link">
    <span class="md-ellipsis">
      Creación del DTO de Registro
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacion-del-metodo-de-registro" class="md-nav__link">
    <span class="md-ellipsis">
      Implementación del Método de Registro
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hash-de-contrasena" class="md-nav__link">
    <span class="md-ellipsis">
      Hash de Contraseña
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hash de Contraseña">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uso-de-bcrypt" class="md-nav__link">
    <span class="md-ellipsis">
      Uso de Bcrypt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementacion-del-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Implementación del Hashing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autenticacion-login" class="md-nav__link">
    <span class="md-ellipsis">
      Autenticación (Login)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autenticación (Login)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-del-dto-de-login" class="md-nav__link">
    <span class="md-ellipsis">
      Creación del DTO de Login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validacion-de-credenciales" class="md-nav__link">
    <span class="md-ellipsis">
      Validación de Credenciales
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jwt-json-web-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      JWT (JSON Web Tokens)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JWT (JSON Web Tokens)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuracion-del-modulo-jwt" class="md-nav__link">
    <span class="md-ellipsis">
      Configuración del Módulo JWT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generacion-de-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Generación de Tokens
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autorizacion-guard" class="md-nav__link">
    <span class="md-ellipsis">
      Autorización (Guard)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autorización (Guard)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implementacion-de-guards" class="md-nav__link">
    <span class="md-ellipsis">
      Implementación de Guards
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proteccion-de-rutas" class="md-nav__link">
    <span class="md-ellipsis">
      Protección de Rutas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursos-adicionales" class="md-nav__link">
    <span class="md-ellipsis">
      Recursos Adicionales
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="semana-2-autenticacion-y-autorizacion-con-nestjs">Semana 2: Autenticación y Autorización con NestJS</h1>
<ul>
<li><strong>Autenticación</strong>: Proceso de verificar la identidad del usuario. Asegura que quien intenta acceder es quien dice ser.</li>
<li><strong>Autorización</strong>: Proceso de verificar los permisos del usuario autenticado para acceder a recursos específicos.</li>
</ul>
<hr />
<h2 id="modulo-de-usuarios-users">Módulo de Usuarios (Users)</h2>
<p>Para manejar la autenticación, necesitamos un módulo que gestione a los usuarios de nuestra aplicación.</p>
<h3 id="creacion-del-modulo">Creación del Módulo</h3>
<p>Utilizaremos el CLI de NestJS para generar el módulo de usuarios:</p>
<pre><code class="language-bash">nest generate module users
</code></pre>
<p>Esto crea un archivo <code>users.module.ts</code> que será el núcleo de nuestro módulo de usuarios.</p>
<h3 id="definicion-de-la-entidad-usuario">Definición de la Entidad Usuario</h3>
<p>Crearemos una entidad <code>User</code> que representará a los usuarios en nuestra base de datos.</p>
<p><strong>users/entities/user.entity.ts</strong></p>
<pre><code class="language-typescript">import { Entity, PrimaryGeneratedColumn, Column } from 'typeorm';

@Entity()
export class User {
  @PrimaryGeneratedColumn()
  id: number;

  @Column({ unique: true })
  username: string;

  @Column()
  password: string;
}
</code></pre>
<ul>
<li><strong>Decoradores de TypeORM</strong>:</li>
<li><code>@Entity()</code>: Indica que esta clase es una entidad de base de datos.</li>
<li><code>@PrimaryGeneratedColumn()</code>: Clave primaria autogenerada.</li>
<li><code>@Column()</code>: Define una columna en la tabla.</li>
<li><strong>Propiedades</strong>:</li>
<li><code>username</code>: Nombre de usuario único.</li>
<li><code>password</code>: Contraseña del usuario (será almacenada de forma segura).</li>
</ul>
<h3 id="implementacion-del-servicio-de-usuarios">Implementación del Servicio de Usuarios</h3>
<p>Creamos un servicio para manejar la lógica de negocio relacionada con los usuarios.</p>
<p><strong>Generar el servicio</strong>:</p>
<pre><code class="language-bash">nest generate service users
</code></pre>
<p><strong>users/users.service.ts</strong></p>
<pre><code class="language-typescript">import { Injectable } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import { User } from './entities/user.entity';

@Injectable()
export class UsersService {
  constructor(
    @InjectRepository(User)
    private usersRepository: Repository&lt;User&gt;,
  ) {}

  async findOne(username: string): Promise&lt;User | undefined&gt; {
    return this.usersRepository.findOneBy({ username });
  }

  async create(user: Partial&lt;User&gt;): Promise&lt;User&gt; {
    const newUser = this.usersRepository.create(user);
    return this.usersRepository.save(newUser);
  }

  // Otros métodos según sea necesario
}
</code></pre>
<ul>
<li><strong>Inyección del Repositorio</strong>: Utilizamos <code>@InjectRepository</code> para acceder al repositorio de la entidad <code>User</code>.</li>
<li><strong>Métodos del Servicio</strong>:</li>
<li><code>findOne()</code>: Busca un usuario por nombre de usuario.</li>
<li><code>create()</code>: Crea un nuevo usuario.</li>
</ul>
<h3 id="actualizacion-del-modulo-de-usuarios">Actualización del Módulo de Usuarios</h3>
<p>Debemos importar el <code>TypeOrmModule</code> en <code>users.module.ts</code> para que el repositorio esté disponible.</p>
<p><strong>users/users.module.ts</strong></p>
<pre><code class="language-typescript">import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
import { UsersService } from './users.service';
import { User } from './entities/user.entity';

@Module({
  imports: [TypeOrmModule.forFeature([User])],
  providers: [UsersService],
  exports: [UsersService],
})
export class UsersModule {}
</code></pre>
<ul>
<li><strong>imports</strong>: Importamos <code>TypeOrmModule.forFeature([User])</code> para registrar el repositorio de <code>User</code>.</li>
<li><strong>exports</strong>: Exportamos <code>UsersService</code> para que pueda ser utilizado en otros módulos.</li>
</ul>
<hr />
<h2 id="modulo-de-autenticacion-auth">Módulo de Autenticación (Auth)</h2>
<p>Crearemos un módulo dedicado a la autenticación que gestionará el proceso de login y registro.</p>
<h3 id="creacion-del-modulo-y-controlador">Creación del Módulo y Controlador</h3>
<p>Utilizamos el CLI de NestJS para generar el módulo y el controlador de autenticación:</p>
<pre><code class="language-bash">nest generate module auth
nest generate controller auth
nest generate service auth
</code></pre>
<p>Esto crea los archivos <code>auth.module.ts</code>, <code>auth.controller.ts</code> y <code>auth.service.ts</code>.</p>
<h3 id="configuracion-de-dependencias">Configuración de Dependencias</h3>
<p>En <code>auth.module.ts</code>, importamos el módulo de usuarios y otros módulos necesarios:</p>
<p><strong>auth/auth.module.ts</strong></p>
<pre><code class="language-typescript">import { Module } from '@nestjs/common';
import { UsersModule } from '../users/users.module';
import { AuthService } from './auth.service';
import { AuthController } from './auth.controller';

@Module({
  imports: [UsersModule],
  providers: [AuthService],
  controllers: [AuthController],
})
export class AuthModule {}
</code></pre>
<ul>
<li><strong>imports</strong>: Importamos <code>UsersModule</code> para acceder al servicio de usuarios.</li>
<li><strong>providers</strong>: Registramos <code>AuthService</code>.</li>
<li><strong>controllers</strong>: Registramos <code>AuthController</code>.</li>
</ul>
<hr />
<h2 id="registro-de-usuarios-register">Registro de Usuarios (Register)</h2>
<p>Implementaremos la funcionalidad para que nuevos usuarios puedan registrarse en nuestra aplicación.</p>
<h3 id="creacion-del-dto-de-registro">Creación del DTO de Registro</h3>
<p>Definimos un DTO (Data Transfer Object) para validar los datos de registro.</p>
<p><strong>auth/dto/register-auth.dto.ts</strong></p>
<pre><code class="language-typescript">import { IsString, MinLength } from 'class-validator';

export class RegisterAuthDto {
  @IsString()
  username: string;

  @IsString()
  @MinLength(6)
  password: string;
}
</code></pre>
<ul>
<li><strong>Decoradores de Validación</strong>:</li>
<li><code>@IsString()</code>: Valida que el campo sea una cadena de texto.</li>
<li><code>@MinLength(6)</code>: Valida que la contraseña tenga al menos 6 caracteres.</li>
</ul>
<h3 id="implementacion-del-metodo-de-registro">Implementación del Método de Registro</h3>
<p>En <code>AuthService</code>, creamos un método <code>register</code> que utiliza <code>UsersService</code> para crear un nuevo usuario.</p>
<p><strong>auth/auth.service.ts</strong></p>
<pre><code class="language-typescript">import { Injectable } from '@nestjs/common';
import { UsersService } from '../users/users.service';
import { RegisterAuthDto } from './dto/register-auth.dto';

@Injectable()
export class AuthService {
  constructor(private usersService: UsersService) {}

  async register(registerAuthDto: RegisterAuthDto) {
    const userExists = await this.usersService.findOne(registerAuthDto.username);
    if (userExists) {
      throw new Error('El usuario ya existe');
    }
    return this.usersService.create(registerAuthDto);
  }
}
</code></pre>
<ul>
<li><strong>Validación de Usuario Existente</strong>: Verificamos si el nombre de usuario ya está en uso.</li>
<li><strong>Creación del Usuario</strong>: Utilizamos <code>usersService.create</code> para crear el nuevo usuario.</li>
</ul>
<p>En <code>AuthController</code>, creamos el endpoint para el registro.</p>
<p><strong>auth/auth.controller.ts</strong></p>
<pre><code class="language-typescript">import { Controller, Post, Body } from '@nestjs/common';
import { AuthService } from './auth.service';
import { RegisterAuthDto } from './dto/register-auth.dto';

@Controller('auth')
export class AuthController {
  constructor(private authService: AuthService) {}

  @Post('register')
  async register(@Body() registerAuthDto: RegisterAuthDto) {
    return this.authService.register(registerAuthDto);
  }
}
</code></pre>
<ul>
<li><strong>Endpoint <code>/auth/register</code></strong>: Maneja las solicitudes POST para registrar nuevos usuarios.</li>
</ul>
<hr />
<h2 id="hash-de-contrasena">Hash de Contraseña</h2>
<p>Es fundamental no almacenar contraseñas en texto plano por razones de seguridad. Utilizaremos <strong>bcrypt</strong> para encriptar las contraseñas antes de guardarlas.</p>
<h3 id="uso-de-bcrypt">Uso de Bcrypt</h3>
<p><strong>Instalación</strong>:</p>
<pre><code class="language-bash">npm install bcrypt
npm install -D @types/bcrypt
</code></pre>
<h3 id="implementacion-del-hashing">Implementación del Hashing</h3>
<p>Modificamos el método <code>register</code> en <code>AuthService</code> para hashear la contraseña.</p>
<p><strong>auth/auth.service.ts</strong></p>
<pre><code class="language-typescript">import * as bcrypt from 'bcrypt';

@Injectable()
export class AuthService {
  // ...

  async register(registerAuthDto: RegisterAuthDto) {
    const { username, password } = registerAuthDto;
    const userExists = await this.usersService.findOne(username);
    if (userExists) {
      throw new Error('El usuario ya existe');
    }
    const hashedPassword = await bcrypt.hash(password, 10);
    return this.usersService.create({
      username,
      password: hashedPassword,
    });
  }
}
</code></pre>
<ul>
<li><strong>bcrypt.hash()</strong>: Genera un hash seguro de la contraseña con un salt de 10 rondas.</li>
<li><strong>Almacenamiento Seguro</strong>: Solo guardamos el hash de la contraseña en la base de datos.</li>
</ul>
<hr />
<h2 id="autenticacion-login">Autenticación (Login)</h2>
<p>Implementaremos el proceso de login, validando las credenciales del usuario.</p>
<h3 id="creacion-del-dto-de-login">Creación del DTO de Login</h3>
<p>Definimos un DTO para validar los datos de login.</p>
<p><strong>auth/dto/login-auth.dto.ts</strong></p>
<pre><code class="language-typescript">import { IsString } from 'class-validator';

export class LoginAuthDto {
  @IsString()
  username: string;

  @IsString()
  password: string;
}
</code></pre>
<h3 id="validacion-de-credenciales">Validación de Credenciales</h3>
<p>En <code>AuthService</code>, creamos el método <code>login</code> que verifica las credenciales del usuario.</p>
<p><strong>auth/auth.service.ts</strong></p>
<pre><code class="language-typescript">async login(loginAuthDto: LoginAuthDto) {
  const { username, password } = loginAuthDto;
  const user = await this.usersService.findOne(username);
  if (!user) {
    throw new Error('Usuario no encontrado');
  }
  const isMatch = await bcrypt.compare(password, user.password);
  if (!isMatch) {
    throw new Error('Contraseña incorrecta');
  }
  // Generar y devolver un token (JWT)
}
</code></pre>
<ul>
<li><strong>bcrypt.compare()</strong>: Compara la contraseña proporcionada con el hash almacenado.</li>
<li><strong>Validación de Usuario y Contraseña</strong>: Asegura que las credenciales sean correctas antes de proceder.</li>
</ul>
<p>En <code>AuthController</code>, creamos el endpoint para el login.</p>
<p><strong>auth/auth.controller.ts</strong></p>
<pre><code class="language-typescript">@Post('login')
async login(@Body() loginAuthDto: LoginAuthDto) {
  return this.authService.login(loginAuthDto);
}
</code></pre>
<hr />
<h2 id="jwt-json-web-tokens">JWT (JSON Web Tokens)</h2>
<p>Utilizaremos JWT para generar tokens que permitan a los usuarios autenticarse y acceder a recursos protegidos.</p>
<h3 id="configuracion-del-modulo-jwt">Configuración del Módulo JWT</h3>
<p><strong>Instalación</strong>:</p>
<pre><code class="language-bash">npm install @nestjs/jwt passport-jwt
npm install -D @types/passport-jwt
</code></pre>
<p>En <code>auth.module.ts</code>, importamos y configuramos el módulo JWT.</p>
<p><strong>auth/auth.module.ts</strong></p>
<pre><code class="language-typescript">import { JwtModule } from '@nestjs/jwt';

@Module({
  imports: [
    UsersModule,
    JwtModule.register({
      secret: 'SECRET_KEY', // Reemplazar por una clave más segura y almacenarla en variables de entorno
      signOptions: { expiresIn: '1h' },
    }),
  ],
  // ...
})
export class AuthModule {}
</code></pre>
<ul>
<li><strong>secret</strong>: Clave secreta para firmar los tokens (debe ser segura y estar en variables de entorno).</li>
<li><strong>signOptions</strong>: Opciones como tiempo de expiración del token.</li>
</ul>
<h3 id="generacion-de-tokens">Generación de Tokens</h3>
<p>Modificamos el método <code>login</code> para generar y devolver un token JWT.</p>
<p><strong>auth/auth.service.ts</strong></p>
<pre><code class="language-typescript">import { JwtService } from '@nestjs/jwt';

@Injectable()
export class AuthService {
  constructor(
    private usersService: UsersService,
    private jwtService: JwtService,
  ) {}

  async login(loginAuthDto: LoginAuthDto) {
    // ... Validación de credenciales

    const payload = { username: user.username, sub: user.id };
    return {
      access_token: this.jwtService.sign(payload),
    };
  }
}
</code></pre>
<ul>
<li><strong>jwtService.sign()</strong>: Genera un token JWT con el payload proporcionado.</li>
<li><strong>Payload</strong>: Información que se incluye en el token (evitar información sensible).</li>
</ul>
<hr />
<h2 id="autorizacion-guard">Autorización (Guard)</h2>
<p>Para proteger rutas y asegurarnos de que solo usuarios autenticados accedan a ciertos recursos, utilizaremos Guards.</p>
<h3 id="implementacion-de-guards">Implementación de Guards</h3>
<p>NestJS utiliza <strong>Passport</strong> para manejar la autenticación con JWT.</p>
<p><strong>Instalación</strong>:</p>
<pre><code class="language-bash">npm install passport
npm install @nestjs/passport
</code></pre>
<p>Creamos un guard que utilice la estrategia de JWT.</p>
<p><strong>auth/jwt-auth.guard.ts</strong></p>
<pre><code class="language-typescript">import { Injectable } from '@nestjs/common';
import { AuthGuard } from '@nestjs/passport';

@Injectable()
export class JwtAuthGuard extends AuthGuard('jwt') {}
</code></pre>
<p>Definimos la estrategia JWT.</p>
<p><strong>auth/jwt.strategy.ts</strong></p>
<pre><code class="language-typescript">import { Injectable } from '@nestjs/common';
import { PassportStrategy } from '@nestjs/passport';
import { Strategy, ExtractJwt } from 'passport-jwt';

@Injectable()
export class JwtStrategy extends PassportStrategy(Strategy) {
  constructor() {
    super({
      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),
      ignoreExpiration: false,
      secretOrKey: 'SECRET_KEY', // Debe coincidir con la clave usada para firmar
    });
  }

  async validate(payload: any) {
    return { userId: payload.sub, username: payload.username };
  }
}
</code></pre>
<ul>
<li><strong>jwtFromRequest</strong>: Especifica cómo extraer el token de la solicitud (en este caso, del encabezado <code>Authorization</code>).</li>
<li><strong>validate()</strong>: Método que verifica el token y devuelve los datos del usuario.</li>
</ul>
<h3 id="proteccion-de-rutas">Protección de Rutas</h3>
<p>En <code>cats.controller.ts</code>, protegemos las rutas utilizando el guard.</p>
<p><strong>cats/cats.controller.ts</strong></p>
<pre><code class="language-typescript">import { Controller, Get, UseGuards } from '@nestjs/common';
import { JwtAuthGuard } from '../auth/jwt-auth.guard';

@Controller('cats')
export class CatsController {
  // ...

  @UseGuards(JwtAuthGuard)
  @Get()
  findAll() {
    // Solo usuarios autenticados pueden acceder
    return this.catsService.findAll();
  }
}
</code></pre>
<ul>
<li><strong>@UseGuards(JwtAuthGuard)</strong>: Indica que esta ruta está protegida y requiere autenticación.</li>
</ul>
<hr />
<h3 id="recursos-adicionales">Recursos Adicionales</h3>
<ul>
<li><a href="https://docs.nestjs.com/">Documentación Oficial de NestJS</a></li>
<li><a href="https://docs.nestjs.com/security/authentication">Passport y JWT en NestJS</a></li>
<li><a href="https://typeorm.io/#/relations">TypeORM Relations</a></li>
<li><a href="https://www.npmjs.com/package/bcrypt">Bcrypt Documentation</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>